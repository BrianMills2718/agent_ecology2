# =============================================================================
# THIN SLICE ROADMAP - From Current State to V1
# =============================================================================
# Each slice is independently testable and adds incremental value.
# =============================================================================

current_state:
  description: "What we have now (Slice 0.5)"
  features:
    - "2 LLM agents (builder, trader)"
    - "4 actions: noop, read_artifact, write_artifact, transfer"
    - "Basic ledger with hard credit limits"
    - "JSONL event logging"
    - "Log viewer (view_log.py)"
    - "Rate limiting for Gemini free tier"
  missing:
    - "More agents"
    - "Seed artifacts"
    - "Meaningful agent interactions"
    - "Any emergent behavior"

# -----------------------------------------------------------------------------
# SLICE 1.0 - More Agents + Seed Content
# -----------------------------------------------------------------------------
slice_1_0:
  name: "Populated World"
  goal: "5 agents with distinct roles, seed artifacts to bootstrap interaction"

  tasks:
    - id: "1.0.1"
      name: "Add 3 more agents to config"
      description: "analyst, coordinator, experimenter"
      effort: "trivial"

    - id: "1.0.2"
      name: "Create seed artifacts"
      description: |
        Pre-populate world with artifacts agents can discover:
        - world_rules: Explains how the world works
        - agent_directory: Lists all agents and their stated goals
        - initial_task: A challenge or goal for agents to pursue
      effort: "small"

    - id: "1.0.3"
      name: "Add list_artifacts action"
      description: "Cheap action to discover what artifacts exist"
      effort: "small"

    - id: "1.0.4"
      name: "Add delete_artifact action"
      description: "Ability to remove artifacts you own"
      effort: "trivial"

  testable_outcome: |
    Run 20-tick simulation with 5 agents.
    Agents should read seed artifacts and create new ones in response.
    Log should show multi-agent interaction patterns.

  estimated_effort: "1-2 hours"

# -----------------------------------------------------------------------------
# SLICE 1.1 - Better Observability
# -----------------------------------------------------------------------------
slice_1_1:
  name: "Enhanced Observability"
  goal: "See what's happening without reading raw logs"

  tasks:
    - id: "1.1.1"
      name: "Balance timeline visualization"
      description: "Simple matplotlib/text chart of balances over ticks"
      effort: "small"

    - id: "1.1.2"
      name: "Action heatmap"
      description: "Show which agents did what actions when"
      effort: "small"

    - id: "1.1.3"
      name: "Artifact content viewer"
      description: "Pretty-print artifact contents with metadata"
      effort: "trivial"

    - id: "1.1.4"
      name: "Live simulation mode"
      description: "Stream events to terminal in real-time (already have, polish it)"
      effort: "trivial"

  testable_outcome: |
    After simulation, run visualization script.
    Should produce readable summary of what happened.

  estimated_effort: "1-2 hours"

# -----------------------------------------------------------------------------
# SLICE 1.2 - Simple Minting (External Value Injection)
# -----------------------------------------------------------------------------
slice_1_2:
  name: "Value Injection"
  goal: "External mechanism to reward certain behaviors"

  tasks:
    - id: "1.2.1"
      name: "Minting rules in config"
      description: |
        Define simple rules like:
        - If artifact read_count > N, mint X credits to owner
        - Per-tick passive income for agents
      effort: "medium"

    - id: "1.2.2"
      name: "Track artifact read counts"
      description: "Count how many times each artifact is read"
      effort: "small"

    - id: "1.2.3"
      name: "Minting execution"
      description: "Apply minting rules at end of each tick"
      effort: "small"

  testable_outcome: |
    Agents that create popular artifacts get rewarded.
    Should see balance changes from minting in logs.

  estimated_effort: "2-3 hours"

# -----------------------------------------------------------------------------
# SLICE 1.3 - Richer Agent Context
# -----------------------------------------------------------------------------
slice_1_3:
  name: "Smarter Agents"
  goal: "Give agents more context for better decisions"

  tasks:
    - id: "1.3.1"
      name: "Show artifact list in prompt"
      description: "Agents see what artifacts exist before deciding"
      effort: "small"

    - id: "1.3.2"
      name: "Show agent directory in prompt"
      description: "Agents know who else exists and their roles"
      effort: "small"

    - id: "1.3.3"
      name: "Memory: agent's own recent actions"
      description: "Include last N actions this agent took"
      effort: "small"

    - id: "1.3.4"
      name: "Memory: artifacts this agent has read"
      description: "Track and show what agent has already read"
      effort: "medium"

  testable_outcome: |
    Agents make more contextual decisions.
    Less redundant reading of same artifacts.
    More targeted interactions.

  estimated_effort: "2-3 hours"

# -----------------------------------------------------------------------------
# SLICE 2.0 - Emergence Testing
# -----------------------------------------------------------------------------
slice_2_0:
  name: "Emergence Experiments"
  goal: "Run longer simulations and look for emergent patterns"

  tasks:
    - id: "2.0.1"
      name: "100+ tick simulation"
      description: "Long run to see patterns emerge"
      effort: "trivial (just time)"

    - id: "2.0.2"
      name: "Analyze: do agents specialize?"
      description: "Does builder build more? Does trader accumulate?"
      effort: "analysis"

    - id: "2.0.3"
      name: "Analyze: do transfers happen?"
      description: "Is there any credit flow between agents?"
      effort: "analysis"

    - id: "2.0.4"
      name: "Tune parameters"
      description: "Adjust costs/rewards based on observations"
      effort: "iterative"

  testable_outcome: |
    Report on emergent behaviors observed (or lack thereof).
    Hypotheses for what would increase emergence.

  estimated_effort: "variable - research mode"

# -----------------------------------------------------------------------------
# FUTURE SLICES (V1.5+)
# -----------------------------------------------------------------------------
future_slices:
  - name: "Tool Execution"
    description: "Agents can define and invoke tools"
    complexity: "high"

  - name: "Contracts"
    description: "Conditional agreements between agents"
    complexity: "very high"

  - name: "Visual Demos"
    description: "Generate visual artifacts for external audiences"
    complexity: "medium"

  - name: "Multi-model Support"
    description: "Different agents use different LLMs"
    complexity: "low (already works via config)"
