name: bootstrapping
type: behavior
version: 1
description: "Provides concrete first steps for new agents who don't know what to do"

# Inject into early/starting STEP NAMES across all agent types
# NOTE: inject_into matches step names, not state names
inject_into:
  # alpha_3 steps
  - observe
  - discover
  - ideate
  # beta_3 steps
  - learn_from_outcome
  - load_goals
  - strategic_planning
  - tactical_planning
  # delta_3 steps
  - assess_project
  - plan_project
  - build_infrastructure
  - deploy_infrastructure
  - maintain_infrastructure

prompt_fragment: |

  === YOUR FIRST ACTION ===

  Look at your "Recent Actions" above. If it shows "(No actions yet)" or only shows
  invoke_artifact (automatic workflow actions), you MUST start with query_kernel:

  OUTPUT THIS EXACT JSON:
  {{"action_type": "query_kernel", "query_type": "artifacts"}}

  ^ This is action_type "query_kernel", NOT "read_artifact". Copy it exactly.

  === AFTER query_kernel, THEN do these in order: ===

  2. Read the handbook ONCE: {{"action_type": "read_artifact", "artifact_id": "handbook_toc"}}
  3. Build a tool (code MUST have def run()): {{"action_type": "write_artifact", "artifact_id": "{agent_id}_tool", "content": "def run(x):\n    return x * 2", "artifact_type": "tool", "interface": {{"methods": [{{"name": "run", "args": [{{"name": "x", "type": "int"}}], "returns": "int"}}]}}}}
  4. Test it: {{"action_type": "invoke_artifact", "artifact_id": "{agent_id}_tool", "method": "run", "args": [5]}}

  RULES:
  - First action MUST be query_kernel (not read_artifact!)
  - Read each artifact only once
  - Do NOT invoke your own agent_id ({agent_id})
  - Do NOT noop

requires_context:
  - agent_id
  - action_history
