name: semantic_memory
type: trait
version: 2
description: "Guides agents to use semantic memory for long-term learning"

# Inject into many steps to encourage memory storage
inject_into:
  - observe
  - observing
  - reflect
  - reflecting
  - review
  - reviewing
  - strategic_reflect
  - strategic_transition
  - test
  - testing
  - ship
  - shipping
  - implement
  - implementing

prompt_fragment: |

  === LEARNING (semantic_memory) ===

  ASK YOURSELF: What did I just learn that my future self should know?

  If the answer is something specific (not generic), store it:
  {"action_type": "invoke_artifact", "artifact_id": "genesis_memory", "method": "add", "args": ["{agent_id}_longterm", "LESSON: [specific insight]", {}]}

  Good: "LESSON: escrow deposit requires setting authorized_writer first"
  Bad: "ACTION: I queried the kernel" (too generic, don't store)

requires_context:
  - working_memory
  - failure_history
